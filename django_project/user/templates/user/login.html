{% extends "blog/base.html" %}
{% load crispy_forms_tags %}
{% block content %}

{% if messages %}
{% for message in messages %}
<div class="alert alert-{{message.tags}}">{{message}}</div>
{% endfor %}
{% endif %}

<div class="card p-3">
    <form action="" method="post">
        {% csrf_token %}
        <fieldset>
            <legend class="border-bottom pb-2 mb-3">Log In</legend>
            <div class="row gy-2">
                {% if form.non_field_errors %}
                <div class="col-12 alert alert-danger">
                    {{ form.non_field_errors }}
                </div>
                {% endif %}
                <div class="col-12">
                    {{ form.username|as_crispy_field }}
                </div>
                <div class="col-12">
                    {{ form.password|as_crispy_field }}
                </div>
            </div>
        </fieldset>
        <div class="mt-3">
            <button class="btn btn-custom me-2" type="submit">Submit</button>
            <small><a href="{% url 'password_reset' %}">Forgot Password?</a></small>
        </div>
    </form>
    <div class="border-top pt-2 mt-3">
        <small>Need an account? <a href="{% url 'register' %}">Sign In</a></small>
    </div>
</div>

{% endblock %}